<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>动态效果CSS3库-13</title>
        <style type="text/css">
            body {
                font-family: 'Microsoft Yahei';
            }
            .wrapper {
                width: 300px;
                height: 300px;
                overflow: hidden;
                /*box-shadow: 0 0 4px red;*/
                background-color: #EEE;
                position: relative;
            }
            .item-con {
                -webkit-transition: margin-left 0.6s;
            }
            .wrapper .item {
                -webkit-transition: -webkit-transform 0.3s;
                width: 300px;
                height: 300px;
                position: absolute;
                left: 0;
                top: 0;
            }
            .wrapper .operator {
                position: absolute;
                top: 38%;
                -webkit-transition: all .4s ease-in-out .1s;
                cursor: pointer;
                z-index: 10;
            }
            .wrapper .operator .arrow {
                width: 36px;
                height: 36px;
                border-top: 2px solid #00c0ff;
                border-right: 2px solid #00c0ff;
                opacity: 0;
                -webkit-transition: all .15s ease-in-out .1s;
                -webkit-transform: rotateZ(45deg);
            }
            .wrapper .left {
                left: 12px;
                margin-left: -130px;
            }
            .wrapper .right {
                right: 12px;
                margin-right: -130px;
            }
            .wrapper .left .arrow {
                -webkit-transform: rotateZ(-135deg);
            }
            .wrapper .item {
                z-index: 1;
                opacity: 0;
                -webkit-transform: scale(.64, .64);
                display: none;
            }
            .wrapper .item:nth-child(1) {
                z-index: 9;
                opacity: 1;
                -webkit-transform: scale(1, 1);
                display: block;
            }
            .wrapper .item:nth-child(2) {
                -webkit-transform: scale(.7, .7);
                z-index: 8;
                display: block;
            }
            .wrapper .item:nth-child(3) {
                -webkit-transform: scale(.67, .67);
                z-index: 7;
                display: block;
            }
            .wrapper .item:nth-child(4) {
                -webkit-transform: scale(.64, .64);
                z-index: 6;
                display: block;
            }

@-webkit-keyframes move-0
{
    0% {-webkit-transform: scale(.75, .75) translate(0, -20px); opacity: 1; }
    58% {-webkit-transform: scale(.75, .75) rotateZ(5deg) translate(150px, -30px); opacity: 1;} 
    100% {-webkit-transform: scale(.75, .75) rotateZ(5deg) translate(600px, -40px); opacity: .4; }
}


@-webkit-keyframes move-1
{
    0% {-webkit-transform: scale(.72, .72) translate(0, -33px);}
    60% {-webkit-transform: scale(.72, .72) rotateZ(4deg) translate(80px, -30px);} 
    85% {-webkit-transform: scale(.73, .73) rotateZ(0) translate(-18px, -20px);} 
    100% {-webkit-transform: scale(.75, .75) translate(0, -20px); opacity: 1; }
}

@-webkit-keyframes move-2
{
    0% {-webkit-transform: scale(.67, .67) translate(0, -52px);}
    60% {-webkit-transform: scale(.67, .67) rotateZ(1deg) translate(40px, -48px); }
    72% {-webkit-transform: scale(.67, .67) rotateZ(0) translate(-14px, -36px);} 
    100% {-webkit-transform: scale(.72, .72) translate(0, -33px); opacity: .8;}
}

@-webkit-keyframes move-3
{
    0% {-webkit-transform: scale(.64, .64) translate(0, -67px); }
    60% {-webkit-transform: scale(.64, .64) rotateZ(1deg) translate(20px, -60px); }
    72% {-webkit-transform: scale(.64, .64) rotateZ(0) translate(-10px, -55px); }
    100% {-webkit-transform: scale(.67, .67) translate(0, -52px); opacity: .6;}
}

.anmt .item:nth-child(1) {-webkit-animation: move-0 1s ease-out; }
.anmt .item:nth-child(2) {-webkit-animation: move-1 1s ease-in-out; }
.anmt .item:nth-child(3) {-webkit-animation: move-2 1s ease-in-out; }
.anmt .item:nth-child(4) {-webkit-animation: move-3 1s ease-in-out; }

            .wrapper:hover .item {
                box-shadow: 0 0 3px rgba(0,0,0,.6);
            }
            .wrapper:hover .item:nth-child(1) {
                -webkit-transform: scale(.75, .75) translate(0, -20px);
                opacity: 1;
            }
            .wrapper .item:nth-child(2) {
                -webkit-transform: scale(.72, .72) translate(0, -33px);
                opacity: .9;
            }
            .wrapper .item:nth-child(3) {
                -webkit-transform: scale(.67, .67) translate(0, -52px);
                opacity: .6;
            }
            .wrapper .item:nth-child(4) {
                -webkit-transform: scale(.64, .64) translate(0, -67px);
                opacity: .3;
            }
            .wrapper .item:nth-child(5) {
                opacity: .3;
            }
            .wrapper:hover .description {
                opacity: 1;
            }
            .wrapper:hover .left {
                margin-left: 0;
            }
            .wrapper:hover .left .arrow {
                opacity: .3;
            }
            .wrapper .left .arrow:hover {
                opacity: 1;
            }
            .wrapper:hover .right {
                margin-right: 0;
            }
            .wrapper:hover .right .arrow {
                opacity: .3;
            }
            .wrapper .right .arrow:hover {
                opacity: 1;
            }
            .wrapper .indicator {
                font-family: 'arile';
                position: absolute;
                bottom: 6px;
                left: 110px;
                width: 80px;
                height: 40px;
                background-color: #00c0ff;
                border-radius: 40px;
                color: #fff;
                opacity: 0;
                margin-bottom: -40px;
                z-index: 11;
                text-align: center;
                -webkit-transition: all .4s;
            }
            .wrapper:hover .indicator {
                opacity: 1;
                margin-bottom: 0;
            }
            .wrapper .indicator .current {
                float:left; 
                margin-left: 14px;
                display: inline-block; 
                font-size: 24px; 
                margin-top: 5px;
                width: 28px;
                height: 32px;
                line-height: 32px;
                overflow: hidden;
                text-align: right;
            }
            .wrapper .indicator .current .numbers {
                -webkit-transition: all .4s ease-in .5s;
            }
            .wrapper .indicator .total {
                float: left; 
                margin-top: 11px; 
                margin-left: 2px;
                display: inline-block; 
                font-size: 12px;
                text-align: left;
                color: #333;
            }
            .wrapper .image-con {
                width: 300px;
                height: 200px;
                text-align: center;
                overflow: hidden;
                background-color: #FFF;
            }

            .wrapper .description {
                background-color: rgba(255,255,255,.8);
                height: 84px;
                -webkit-transition: all .6s .3s;
                padding: 8px;
                background-color: #FFF;
                overflow: hidden;
            }
            .wrapper .description .detail {
                font-size: 18px;
                letter-spacing: 1px;
                color: #666;
                margin-top: 10px;
                margin-bottom: 6px;
            }
            .wrapper .description .price {
                font-family: 'arile';
                color: #222;
                font-size: 30px;
                margin-left: -7px;
                float: left;
                margin-top: 6px;
            }
            .wrapper .description .count {
                font-size: 14px;
                color: #999;
                float: right;
                margin-top: 14px;
                font-family: 'arile';
            }
        </style>
    </head>
    <body style="padding: 200px; background-color: #F90;">
        <a href="http://img.hb.aicdn.com/569f7b40c7f290fa7e7a22e9bdbf303e0ba7c5461cdb09-DJHYsa_fw658" target="_blank">效果原稿</a>
        <br>
        <br>
        <div class="wrapper">
            <div class="item-con" style="width: 300px;">
                <div class="item crt">
                    <div class="image-con">
                        <img src="./imgs/bag.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2014秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3152.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="image-con">
                        <img src="./imgs/bag-2.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2013秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3112.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item crt">
                    <div class="image-con">
                        <img src="./imgs/bag.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2014秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3152.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="image-con">
                        <img src="./imgs/bag-2.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2013秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3112.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item crt">
                    <div class="image-con">
                        <img src="./imgs/bag.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2014秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3152.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="image-con">
                        <img src="./imgs/bag-2.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2013秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3112.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item crt">
                    <div class="image-con">
                        <img src="./imgs/bag.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2014秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3152.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="image-con">
                        <img src="./imgs/bag-2.png" width="300" height="200"/>
                    </div>
                    <div class="description">
                        <div class="detail">
                            2013秋冬新款韩版修身格子毛呢
                        </div>
                        <div class="text-con">
                            <div class="price">￥3112.00</div>
                            <div class="count">销量 : 111</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="indicator">
                <div class="current">
                    <div class="numbers">
                        <div>1</div>
                        <div>18</div>
                        <div>19</div>
                        <div>20</div>
                        <div>1</div>
                        <div>18</div>
                        <div>19</div>
                        <div>20</div>
                    </div>
                </div>
                <div class="total">/20</div>
            </div>
            <div class="operator left">
                <div class="arrow"></div>
            </div>
            <div class="operator right">
                <div class="arrow"></div>
            </div>
        </div>

        <script type="text/javascript">

            var done = true;
            function clean() {
                if (done) {
                    return;
                }
                done = true;
                items = document.querySelectorAll('.item');
                wrapper.classList.remove('anmt');
                parentNode.appendChild(items[0]);
            }
            var index = 0;
            var con = document.querySelector('.item-con');
            var wrapper = document.querySelector('.wrapper');
            var items = document.querySelectorAll('.item');
            var parentNode = items[0].parentNode;
            
            var indicatorNums = document.querySelector('.indicator .numbers');
            document.querySelector('.left').onclick = function() {
                index --;
                indicatorNums.style.marginTop = - index * 32 + 'px';
            }

            for(var i = 0; i < items.length; i++) {
                items[i].addEventListener('webkitAnimationEnd', clean);
            }
            

            document.querySelector('.right').onclick = function() {
                done = false;
                wrapper.classList.add('anmt');
                index ++;
                indicatorNums.style.marginTop = - index * 32 + 'px';
            }
        </script>
    </body>
</html>